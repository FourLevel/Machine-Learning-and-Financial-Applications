# 本地端執行指南

## 系統需求

- **Python 版本：** 3.8 或以上（建議 3.9-3.11）
- **作業系統：** Windows 10/11, macOS, Linux 均可
- **記憶體：** 建議 4GB 以上

## 安裝步驟

### 1. 檢查 Python 版本

```bash
python --version
# 或
python3 --version
```

### 2. 建立虛擬環境（建議）

```bash
# 創建虛擬環境
python -m venv nvda_analysis_env

# 啟動虛擬環境
# Windows:
nvda_analysis_env\Scripts\activate
# macOS/Linux:
source nvda_analysis_env/bin/activate
```

### 3. 安裝套件

```bash
# 方法 1: 使用 requirements.txt
pip install -r requirements.txt

# 方法 2: 手動安裝主要套件
pip install numpy pandas scikit-learn scipy statsmodels matplotlib seaborn pandas-datareader
```

### 4. 驗證安裝

```python
# 在 Python 中測試
import numpy as np
import pandas as pd
import sklearn
import scipy
import statsmodels
import matplotlib.pyplot as plt
import seaborn as sns
print("所有套件安裝成功！")
```

## 執行程式

### 1. 確保檔案結構

```text
Homework 4_Pairs Trading of NVDA/
├── ClusteringForPairsTrading.py
├── SP500Data.csv
├── requirements.txt
└── 本地端執行指南.md
```

### 2. 執行程式

```bash
# 在檔案目錄下執行
python ClusteringForPairsTrading.py

# 或使用 Jupyter Notebook
jupyter notebook
# 然後將程式碼複製到新的 notebook 中執行
```

## 可能遇到的問題與解決方案

### 1. 套件版本衝突

**問題：** 不同套件之間版本不相容
**解決：** 使用虛擬環境隔離套件

### 2. statsmodels 安裝問題

**問題：** statsmodels 安裝失敗
**解決：**

```bash
# 先安裝依賴套件
pip install patsy
pip install statsmodels
```

### 3. matplotlib 中文顯示問題

**問題：** 圖表中文字顯示為方塊
**解決：** 在程式開頭加入：

```python
import matplotlib.pyplot as plt
plt.rcParams['font.sans-serif'] = ['Microsoft YaHei', 'SimHei']
plt.rcParams['axes.unicode_minus'] = False
```

### 4. 記憶體不足

**問題：** 程式執行時記憶體不足
**解決：**

- 關閉其他應用程式
- 使用較小的數據集進行測試

### 5. pandas-datareader 網路問題

**問題：** 無法下載金融數據
**解決：** 程式已使用本地 CSV 檔案，不需要網路連線

## 效能優化建議

1. **使用 Anaconda 發行版**
   - 預裝大部分科學計算套件
   - 自動處理套件依賴關係

2. **安裝順序建議**

   ```bash
   pip install numpy
   pip install pandas
   pip install scipy
   pip install scikit-learn
   pip install statsmodels
   pip install matplotlib seaborn
   ```

3. **替代安裝方法**

   ```bash
   # 使用 conda（如果有 Anaconda）
   conda install numpy pandas scikit-learn scipy statsmodels matplotlib seaborn
   ```

## 預期執行時間

- **數據載入：** 1-2 秒
- **聚類分析：** 5-10 秒
- **視覺化生成：** 3-5 秒
- **總執行時間：** 約 10-20 秒

## 輸出結果

程式執行後會產生：

1. 控制台輸出的分析結果
2. 多個視覺化圖表
3. NVDA 配對分析報告

## 故障排除

如果遇到問題，請檢查：

1. Python 版本是否符合要求
2. 所有套件是否正確安裝
3. SP500Data.csv 檔案是否存在
4. 是否在正確的目錄下執行

## 聯絡資訊

如有技術問題，請參考各套件的官方文檔：

- NumPy: <https://numpy.org/doc/>
- Pandas: <https://pandas.pydata.org/docs/>
- Scikit-learn: <https://scikit-learn.org/stable/>
- Statsmodels: <https://www.statsmodels.org/stable/>
